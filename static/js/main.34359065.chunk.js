(this["webpackJsonpfriday-lesson1"]=this["webpackJsonpfriday-lesson1"]||[]).push([[0],{109:function(e,a,t){"use strict";t.r(a);var n,r=t(0),c=t.n(r),o=t(13),l=t.n(o),i=(t(85),t(5)),s=t(4),u=t(1),d=t(10),m=t(2),p=t(69),_=t.n(p).a.create(Object(m.a)({baseURL:"https://neko-back.herokuapp.com/2.0"},{withCredentials:!0})),E=function(e){return _.post("/auth/forgot",{email:e,from:"test-front-admin <ai73a@yandex.by>",message:"<div style= 'background-color: #b8b8b8; padding: 15px'> password recovery link: <a href='https://ad1n1993.github.io/Fridayapp/#/initiate/$token$'> Click the link to restore access to your account </a></div>"})},f=function(e,a){return _.post("/auth/set-new-password",{password:e,resetPasswordToken:a})},b=function(e){return _.post("/auth/login",e)},g=function(){return _.delete("/auth/me")},v=function(e){return _.post("/auth/register",e)},k=function(){return _.post("auth/me")},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:6;return _.get("/cards/pack?packName=".concat(e,"&min=").concat(a,"&max=").concat(t,"&sortPacks=").concat(n,"&page=").concat(r,"&pageCount=").concat(c))},N=function(e){return _.post("/cards/pack",{cardsPack:e})},C=function(e){return _.delete("/cards/pack?id=".concat(e))},S=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return _.get("/cards/card?cardsPack_id=".concat(e,"&cardQuestion=").concat(a,"&page=").concat(t,"&pageCount=",10,","))},O=function(e){return _.post("cards/card",{card:e})},P=function(e){return _.delete("cards/card?id=".concat(e))},T=function(e,a){return _.put("cards/grade",{card_id:e,grade:a})},y={isInitialized:!1,status:"idle",error:null,myUserID:""},j=function(e){return{type:"SET_STATUS_APP",status:e}},w=function(e){return{type:"SET_MY_USER_ID",id:e}},R={isLoggedIn:!1,error:""},I=function(e){return{type:"SET_IS_LOGGED",value:e}},x=function(e){return{type:"SET_LOGIN_ERROR",error:e}},A=t(49),L=t.n(A),B=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{className:"".concat(L.a.inputText," ").concat(e.error&&""!==e.value?L.a.error:""),type:e.type,value:e.value,onChange:e.onChange,onKeyPress:function(a){"Enter"===a.key&&e.actionEnter&&e.actionEnter()},name:e.name,placeholder:e.placeholder}))},D=t(45),U=t.n(D),F=function(e){return c.a.createElement("button",{className:"red"===e.mode?"".concat(U.a.btn,"  ").concat(U.a.error):U.a.btn,onClick:e.action,type:e.type,disabled:e.disabled},e.value)},M=t(29),z=t.n(M),W=t(50),G=t.n(W),K=t(70),Z=t.n(K),q=function(){return c.a.createElement("div",{className:G.a.overlay},c.a.createElement("div",{className:G.a.wrapper},c.a.createElement("img",{src:Z.a,alt:"loading..."})))},V=t(46),H=t.n(V),Y=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("label",{className:"".concat(H.a.checkbox," ").concat(e.checked?H.a.active:"")},c.a.createElement("input",{className:H.a.input,type:"checkbox",checked:e.checked,onChange:e.changeStatus,name:"rememberMe"}),c.a.createElement("span",null,e.value)))},X=t(21),J=t.n(X),$=function(){var e=Object(u.b)(),a=Object(u.c)((function(e){return e.login.isLoggedIn})),t=Object(u.c)((function(e){return e.login.error})),n=Object(u.c)((function(e){return e.app.status})),r=Object(d.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var a={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Required",e.password?e.password.length<6&&(a.password="Must be 6 characters or less"):a.password="Required",a},onSubmit:function(a){var t;e((t=a,function(e){e(j("loading")),b(t).then((function(a){"OK"===a.statusText&&(e(I(!0)),e(w(a.data._id)))})).catch((function(a){var t=a.response.data.error;e(x(t)),setTimeout((function(){return e(x(""))}),5e3)})).finally((function(){e(j("succeeded"))}))}))}});return a?c.a.createElement(i.a,{to:"/"}):c.a.createElement("div",{className:J.a.formWrapper},c.a.createElement("h2",{className:z.a.loginTitle},"Welcome"),c.a.createElement("p",null,"Learning is easy - let`s start!"),c.a.createElement("form",{onSubmit:r.handleSubmit},c.a.createElement(B,{name:"email",value:r.values.email,onChange:r.handleChange,placeholder:"Email",actionEnter:function(){},type:"text"}),r.errors.email?c.a.createElement("div",{className:z.a.errorLogin},r.errors.email):null,c.a.createElement(B,{name:"password",value:r.values.password,onChange:r.handleChange,placeholder:"Password",actionEnter:function(){},type:"password"}),r.errors.password?c.a.createElement("div",{className:z.a.errorLogin},r.errors.password):null,t&&c.a.createElement("div",{className:z.a.errorLogin},t),"loading"===n&&c.a.createElement(q,null),c.a.createElement(Y,{checked:r.values.rememberMe,changeStatus:r.handleChange,value:"remember me",name:"rememberMe"}),c.a.createElement(s.b,{className:z.a.forgot,to:"recovery",activeClassName:""},c.a.createElement("span",{className:J.a.forgot}," Forgot password?")),c.a.createElement("br",null),c.a.createElement("div",{className:z.a.btn},c.a.createElement(F,{value:"send",action:r.handleSubmit,type:"submit"}))))},Q=t(33),ee=t.n(Q),ae={isRegistered:!1,registrationError:null},te=function(e){return{type:"SET-REGISTRATION-ERROR",error:e}},ne=function(){var e=Object(u.c)((function(e){return e.signup.isRegistered})),a=Object(u.c)((function(e){return e.app.status})),t=Object(u.c)((function(e){return e.signup.registrationError})),n=Object(u.b)(),r=Object(d.a)({initialValues:{email:"",password:""},onSubmit:function(e){var a;n((a=e,function(e){e(j("loading")),v(a).then((function(a){e({type:"SET-IS-REGISTERED",isRegistered:!0})})).catch((function(a){e(te(a.response.data.error)),setTimeout((function(){return e(te(""))}),5e3)})).finally((function(){e(j("succeeded"))}))}))},validate:function(e){var a={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Required",e.password?e.password.length<7&&(a.password="Password must be at least 7 characters"):a.password="Required",a}});return e?c.a.createElement(i.a,{to:"/login"}):"loading"===a?c.a.createElement(q,null):c.a.createElement("div",{className:J.a.formWrapper},c.a.createElement("h3",{className:ee.a.registerTitle},"Create an account and start learning."),c.a.createElement("form",null,c.a.createElement(B,Object.assign({placeholder:"Email",type:"text"},r.getFieldProps("email"))),r.errors.email&&c.a.createElement("div",{className:ee.a.error},r.errors.email),c.a.createElement(B,Object.assign({placeholder:"Password",type:"password"},r.getFieldProps("password"))),r.errors.password&&c.a.createElement("div",{className:ee.a.error},r.errors.password),c.a.createElement(F,{disabled:!1,type:"submit",value:"register",action:r.handleSubmit})),c.a.createElement(s.b,{className:ee.a.linkToLogin,to:"login"},c.a.createElement("span",null,"Already have an account?")),t&&c.a.createElement("div",{className:ee.a.registrationError},t))},re=t(38),ce=t.n(re),oe=t(53),le={error:"",isShipment:!1},ie=function(e){return{type:"RECOVERY_SET_SHIPMENT",shipment:e}},se=function(e){return{type:"RECOVERY_SHOW_ERROR",error:e}},ue=t(9),de=function(e){var a=Object(r.useState)(!1),t=Object(ue.a)(a,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){var a=setTimeout((function(){e&&c(!0)}),5e3);return function(){return clearTimeout(a)}}),[e]),n},me=function(){var e=Object(u.c)((function(e){return e.recovery.error})),a=Object(u.c)((function(e){return e.app.status})),t=Object(u.c)((function(e){return e.recovery.isShipment})),n=de(t),r=Object(u.b)(),o=Object(d.a)({initialValues:{email:""},onSubmit:function(e){var a;r((a=e.email,function(){var e=Object(oe.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(j("loading")),e.prev=1,e.next=4,E(a);case 4:t(ie(!0)),t(j("succeeded")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(se(e.t0.response.data.error)),t(j("succeeded"));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}())),o.resetForm()},validate:function(e){var a={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Required",a}});return n?c.a.createElement(i.a,{to:"/login"}):t?c.a.createElement("div",null,"Instructions for password recovery have been sent to your email address."):c.a.createElement("div",{className:J.a.formWrapper},"loading"===a?c.a.createElement(q,null):"",c.a.createElement("h2",null,"Forgot password?"),c.a.createElement("p",null,"Please enter your email address."),c.a.createElement("form",{onSubmit:o.handleSubmit},c.a.createElement(B,{name:"email",value:o.values.email,onChange:o.handleChange,actionEnter:function(){},type:"text"}),o.errors.email?c.a.createElement("div",{style:{color:"red"}},o.errors.email):null,c.a.createElement("p",{style:{color:"red"}},e),c.a.createElement(F,{value:"send",action:o.handleSubmit,type:"submit",disabled:"loading"===a,mode:"loading"===a?"red":null})))},pe=t(44),_e=t.n(pe),Ee=function(){var e=Object(u.c)((function(e){return e.app.status})),a=Object(u.c)((function(e){return e.recovery.isShipment})),t=de(a),n=Object(u.c)((function(e){return e.recovery.error})),r=Object(u.b)(),o=Object(i.g)().token,l=Object(d.a)({initialValues:{password:"",passwordRepeat:""},onSubmit:function(e){r(function(e,a){return function(){var t=Object(oe.a)(ce.a.mark((function t(n){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(j("loading")),t.prev=1,t.next=4,f(e,a);case 4:n(ie(!0)),n(j("succeeded")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),n(se(t.t0.response.data.error)),setTimeout((function(){return n(se(""))}),5e3);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e.passwordRepeat,o)),l.resetForm()},validate:function(e){var a={};return e.password?e.password.length<2?a.password="Too Short!":e.password.length>10?a.password="Max 10 chars":e.password!==e.passwordRepeat&&(a.password="The entered values do not match."):a.password="Required",a}});return t?c.a.createElement(i.a,{to:"/login"}):a?c.a.createElement("div",null,"You have successfully restored your password."):c.a.createElement("div",{className:_e.a.formWrapper},"loading"===e?c.a.createElement(q,null):"",c.a.createElement("h1",null,"Password recovery page"),c.a.createElement("p",null,"Please enter your new password."),c.a.createElement("form",{onSubmit:l.handleSubmit},c.a.createElement(B,{name:"password",value:l.values.password,onChange:l.handleChange,actionEnter:function(){},type:"text"}),c.a.createElement(B,{name:"passwordRepeat",value:l.values.passwordRepeat,onChange:l.handleChange,actionEnter:function(){},type:"password"}),l.errors.password?c.a.createElement("div",{style:{color:"red"}},l.errors.password):null,c.a.createElement(F,{value:"send",action:l.handleSubmit,type:"submit",disabled:"loading"===e,mode:"loading"===e?"red":null})),c.a.createElement("span",null,n))},fe=t(8),be=t.n(fe),ge=function(){var e=Object(u.b)(),a=Object(u.c)((function(e){return e.login.isLoggedIn})),t=Object(u.c)((function(e){return e.app.status})),n=Object(u.c)((function(e){return e.cards.cards}));return c.a.createElement(c.a.Fragment,null,"loading"===t&&c.a.createElement(q,null),c.a.createElement("header",{className:be.a.header},c.a.createElement(s.b,{className:be.a.logo,to:"/",activeClassName:""},c.a.createElement("div",{className:be.a.logo},"SmartCards")),c.a.createElement("nav",null,c.a.createElement("ul",{className:be.a.navList},c.a.createElement(s.b,{className:be.a.navLink,to:"/main",activeClassName:be.a.navLinkActive},c.a.createElement("li",{className:be.a.linkItem}," Main")),c.a.createElement(s.b,{className:be.a.navLink,to:"/signUp",activeClassName:be.a.navLinkActive},c.a.createElement("li",{className:be.a.linkItem}," Signup")),0!==n.length&&c.a.createElement(s.b,{className:be.a.navLink,to:"/cards",activeClassName:be.a.navLinkActive},c.a.createElement("li",{className:be.a.linkItem},"Cards")),c.a.createElement(s.b,{className:be.a.navLink,to:"/packs",activeClassName:be.a.navLinkActive},c.a.createElement("li",{className:be.a.linkItem},"Packs")))),c.a.createElement("div",null,a?c.a.createElement("span",{className:be.a.login,onClick:function(){e((function(e){e(j("loading")),g().then((function(a){"OK"===a.statusText&&(e(I(!1)),e(w(a.data._id)))})).finally((function(){e(j("succeeded"))}))}))}}," Logout"):null,a?null:c.a.createElement(s.b,{className:be.a.login,to:"login",activeClassName:""},c.a.createElement("span",null," LogIn")))))},ve=t(20),ke=t.n(ve),he=t(26),Ne=t.n(he),Ce=t(36),Se=t.n(Ce),Oe=t(37);!function(e){e[e.Z=0]="Z",e[e.A=1]="A"}(n||(n={}));var Pe={packs:[],pageSize:"6",totalPacksCount:0,currentPage:1,isFetching:!1,findPackName:"",min:0,max:20,update:"0update"},Te=function(e){return{type:"SET_PACKS_TOTAL_COUNT",count:e}},ye=function(e){return{type:"SET_PAGE_SIZE",pageSize:e}},je=function(e){return{type:"SET_MIN_MAX_VALUE",value:e}},we=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},Re=function(e,a,t,n,r,c,o){return function(o){o(j("loading")),h(e,a,t,n,r,c).then((function(e){o({type:"SET-PACKS",packs:e.data.cardPacks}),o(Te(e.data.cardPacksTotalCount)),o(j("succeeded"))}))}},Ie={cards:[],pageSize:5,totalCardsCount:0,currentPage:1,currentPackID:"",isFetching:!1,currentPackUserID:""},xe=function(e,a){return function(t){t(j("loading")),S(e,"",a).then((function(e){t({type:"SET_CARDS",cards:e.data.cards}),t(Te(e.data.cardsTotalCount)),t(j("succeeded"))}))}},Ae=function(e){var a=Object(u.b)(),t=function(e,t){a(function(e){return{type:"SET_CURRENT_PACK_ID",packID:e}}(e)),a({type:"SET_CURRENT_PACK_USER_ID",currentPackUserID:t})};return c.a.createElement("div",{className:Ne.a.packBlock,style:{backgroundImage:"url(".concat(Se.a,")")}},c.a.createElement("h3",{className:Ne.a.packTitle},e.pack.name.slice(0,14)),0===e.pack.cardsCount?c.a.createElement("span",{style:{color:"orange",cursor:"default"},className:Ne.a.count},"Cards: ",e.pack.cardsCount):c.a.createElement(s.b,{"aria-disabled":"true",className:Ne.a.count,to:"/cards/".concat(e.pack._id),onClick:function(){return t(e.pack._id,e.pack.user_id)}},"Cards: ",e.pack.cardsCount),c.a.createElement("div",{className:Ne.a.author},e.pack.user_name),c.a.createElement("button",{className:Ne.a.start},c.a.createElement(s.b,{className:Ne.a.link,to:"/learningProcess/".concat(e.pack._id),onClick:function(){return t(e.pack._id,e.myUserID)}},"Start Learn")),e.myUserID===e.pack.user_id&&c.a.createElement("button",{className:Ne.a.deleteButton,onClick:function(){e.openModalRemovePack(e.pack._id)}},"x"))},Le=t(28),Be=t.n(Le),De=function(e){var a=e.title,t=e.children,n=e.onClose,o=e.duration,l=void 0===o?300:o,i=e.showCloseBtn,s=Object(r.useRef)(null),u=Object(r.useRef)(null),d=Object(r.useRef)(null);Object(r.useEffect)((function(){return document.body.style.overflow="hidden",s.current&&s.current.classList.add("disable-click"),u.current&&(u.current.style.transitionDuration=l+"ms"),d.current&&(d.current.style.transitionDuration=l+"ms"),setTimeout((function(){u.current&&(u.current.style.opacity="0.2"),d.current&&(d.current.style.opacity="1",d.current.style.top="0")}),20),setTimeout((function(){s.current&&s.current.classList.remove("disable-click")}),l+20),function(){document.body.style.overflow="visible"}}),[l]);var m=function(){s.current&&s.current.classList.add("disable-click"),u.current&&(u.current.style.opacity="0"),d.current&&(d.current.style.opacity="0",d.current.style.top="-100px"),setTimeout((function(){s.current&&s.current.classList.remove("disable-click"),n()}),l)};return c.a.createElement("div",{className:Be.a.modal,ref:s},c.a.createElement("div",{className:Be.a.modal_bg,onClick:m,ref:u}),c.a.createElement("div",{className:Be.a.modal_inner,ref:d},c.a.createElement("div",{className:Be.a.modal_head},c.a.createElement("h2",null,a),i&&c.a.createElement("button",{className:Be.a.btn,onClick:m},"\xd7")),c.a.createElement("div",{className:Be.a.modal_body},t),c.a.createElement("div",{className:Be.a.modal_foot})))},Ue=function(e){var a=Object(r.useState)(!1),t=Object(ue.a)(a,2),n=t[0],o=t[1],l=Object(r.useState)(!1),i=Object(ue.a)(l,2),s=i[0],m=i[1],p=Object(r.useState)(""),_=Object(ue.a)(p,2),E=_[0],f=_[1],b=Object(u.b)(),g=Object(u.c)((function(e){return e.app.myUserID})),v=Object(d.a)({initialValues:{packName:""},onSubmit:function(e){b(function(e){var a={name:e};return function(e){e(j("loading")),N(a).then((function(a){e(Re()),e(j("succeeded"))}))}}(e.packName)),v.resetForm(),o(!1)},validate:function(e){var a={};return e.packName||(a.packName="Required"),a}}),k=Object(r.useCallback)((function(e){m(!0),f(e)}),[]),h=Object(r.useCallback)((function(){b(function(e){return function(a){a(j("loading")),C(e).then((function(e){a(Re()),a(j("succeeded"))}))}}(E)),m(!1)}),[E]);return c.a.createElement("div",{className:ke.a.tablePacksBlock},c.a.createElement("div",{className:ke.a.tablePackContainer},c.a.createElement("div",{className:ke.a.packs},e.values.map((function(e){return c.a.createElement(Ae,{myUserID:g,pack:e,key:e._id,openModalRemovePack:k})})))),c.a.createElement("div",{className:ke.a.addBtn},c.a.createElement(F,{value:"Add new pack",action:function(){return o(!0)}})),n&&c.a.createElement(De,{title:"Add pack",onClose:function(){o(!1)},duration:600,showCloseBtn:!0},c.a.createElement("div",{className:ke.a.addPackBlock},c.a.createElement("form",null,c.a.createElement(B,Object.assign({placeholder:"pack name",type:"text"},v.getFieldProps("packName"))),v.errors.packName&&c.a.createElement("div",{className:ke.a.error},v.errors.packName),c.a.createElement("div",{className:ke.a.buttonBlock},c.a.createElement(F,{disabled:!1,type:"submit",value:"submit",action:v.handleSubmit}))))),s&&c.a.createElement(De,{title:"Delete pack",onClose:function(){m(!1)},duration:600,showCloseBtn:!0},c.a.createElement("div",{className:ke.a.deletePackBlock},c.a.createElement("div",{className:ke.a.warnText},"This action cannon be undone."),c.a.createElement("button",{className:ke.a.cancelButton,onClick:function(){return m(!1)}},"CANCEL"),c.a.createElement("button",{className:ke.a.deleteButton,onClick:h},"DELETE"))))},Fe=t(34),Me=t.n(Fe),ze=t(12),We=t.n(ze),Ge=t(79),Ke=function(){var e=Object(u.c)((function(e){return e.packs.min})),a=Object(u.c)((function(e){return e.packs.max})),t=Object(u.b)(),n=function(e){t(function(e){return{type:"SET_UPDATE_PACKS",value:e}}(e))},r=Object(d.a)({initialValues:{stringSearch:""},onSubmit:function(e){t({type:"SET_PACKS_NAME",packName:e.stringSearch}),r.resetForm()},validate:function(e){var a={};return e.stringSearch.length>10&&(a.stringSearch="Max 10 chars"),a}});return c.a.createElement("div",{className:We.a.findFormWrapper},c.a.createElement("form",{onSubmit:r.handleSubmit,className:We.a.findForm},c.a.createElement("input",{className:We.a.inputPacks,type:"text",name:"stringSearch",value:r.values.stringSearch,onChange:r.handleChange,placeholder:"Packs name"}),r.errors.stringSearch?c.a.createElement("div",{style:{color:"red"}},r.errors.stringSearch):null,c.a.createElement("div",{className:We.a.range},c.a.createElement("span",{className:We.a.line},"Number of cards in packs: ",e," - ",a),c.a.createElement(Ge.a,{min:0,max:20,step:1,dots:!1,defaultValue:[e,a],onAfterChange:function(e){t(je(e))}}),c.a.createElement("h4",null,"Sort by:"),c.a.createElement("ul",{className:We.a.sortList},c.a.createElement("li",{className:We.a.sortItem},"Name",c.a.createElement("i",{className:We.a.arrowUp,onClick:function(){n("0name")}}),c.a.createElement("i",{className:We.a.arrowDown,onClick:function(){n("1name")}})),c.a.createElement("li",{className:We.a.sortItem},"Date",c.a.createElement("i",{className:We.a.arrowUp,onClick:function(){n("0update")}}),c.a.createElement("i",{className:We.a.arrowDown,onClick:function(){n("1update")}})))),c.a.createElement("div",{className:We.a.btns},c.a.createElement("button",{className:We.a.btn,value:"search",type:"submit"},"Apply"),c.a.createElement("button",{className:We.a.btn,value:"search",onClick:function(){t(je([0,20])),t(ye("6")),t(we(1)),t(Re())}},"Reset"))))},Ze=t(14),qe=t.n(Ze),Ve=t(73),He=t.n(Ve),Ye=function(e){var a=Object(u.b)(),t=Object(u.c)((function(e){return e.packs.pageSize})),n=Object(d.a)({initialValues:{choosePageSize:t},onSubmit:function(e){a(ye(e.choosePageSize))}});return c.a.createElement("form",{onSubmit:n.handleSubmit,onChange:n.submitForm,className:He.a.filters},c.a.createElement("select",{name:"choosePageSize",value:e.pageSize,onChange:n.handleChange,style:{display:"block"}},c.a.createElement("option",{value:"6",label:"6"}),c.a.createElement("option",{value:"12",label:"12"}),c.a.createElement("option",{value:"24",label:"24"})))},Xe=function(e){for(var a=e.totalItemsCount,t=e.pageSize,n=e.currentPage,o=e.onChangePage,l=e.portionSize,i=Math.ceil(a/+t),s=[],u=1;u<=i;u++)s.push(u);var d=s[s.length-1],m=Math.ceil(i/l),p=Object(r.useState)(1),_=Object(ue.a)(p,2),E=_[0],f=_[1],b=(E-1)*l+1,g=E*l;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:qe.a.paginatorWrapper},c.a.createElement("button",{className:"".concat(qe.a.btn," ").concat(qe.a.btnLeft),onClick:function(){o(n-1),n===b&&f(E-1)},disabled:n===s[0]},"<"),c.a.createElement("ul",{className:qe.a.pagesList},E>1&&c.a.createElement("li",{className:"".concat(1===n?qe.a.selectedPage:""," ").concat(qe.a.pagesItems),onClick:function(){o(1),f(1)}},1,"..."),s.filter((function(e){return e>=b&&e<=g})).map((function(e){return c.a.createElement("li",{key:e,className:"".concat(n===e?qe.a.selectedPage:""," ").concat(qe.a.pagesItems),onClick:function(){o(e)}},e)})),E<m&&c.a.createElement("span",null,"..."),E<m&&c.a.createElement("li",{className:"".concat(n===d?qe.a.selectedPage:qe.a.lastPage," ").concat(qe.a.pagesItems),onClick:function(){o(d),f(m)}},d)),c.a.createElement("button",{className:"".concat(qe.a.btn," ").concat(qe.a.btnRight),onClick:function(){o(n+1),n===g&&f(E+1)},disabled:n===s[s.length-1]},">"),"Size:",c.a.createElement(Ye,{pageSize:t})))},Je=(t(108),function(){var e=Object(u.c)((function(e){return e.packs})),a=e.findPackName,t=e.packs,n=e.min,o=e.max,l=e.update,s=e.totalPacksCount,d=e.currentPage,m=e.pageSize,p=Object(u.b)(),_=Object(u.c)((function(e){return e.login.isLoggedIn}));return Object(r.useEffect)((function(){_&&p(Re(a+"",n,o,"".concat(l),d,+m))}),[a,d,p,m,n,o,l]),_?c.a.createElement("div",{className:J.a.container},c.a.createElement("div",{className:Me.a.content},c.a.createElement("div",{className:Me.a.stickyContainer},c.a.createElement("div",{className:Me.a.settings},c.a.createElement("h3",null,"Filters"),c.a.createElement(Ke,null))),c.a.createElement("div",{className:Me.a.packsWrapper},c.a.createElement(Ue,{values:t}),c.a.createElement("div",{className:Me.a.paginator},c.a.createElement(Xe,{totalItemsCount:s,pageSize:m,currentPage:d,portionSize:7,onChangePage:function(e){p(we(e))}}))))):c.a.createElement(i.a,{to:"/login"})}),$e=function(){return Object(u.c)((function(e){return e.login.isLoggedIn}))?c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Welcome"),c.a.createElement("h4",null,"Cards for your mind v 1.0 beta"),c.a.createElement("h4",null,"Click Packs and start learning right now!")):c.a.createElement(i.a,{to:"/login"})},Qe=t(22),ea=t.n(Qe),aa=function(e){var a=Object(u.c)((function(e){return e.app.myUserID})),t=Object(r.useState)(!1),n=Object(ue.a)(t,2),o=n[0],l=n[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:ea.a.box},a===e.card.user_id&&c.a.createElement("button",{className:ea.a.deleteButton,onClick:function(){e.openModalRemoveCard(e.card._id)}},"x"),c.a.createElement("div",{className:"".concat(ea.a.boxInner," ").concat(o?ea.a.active:""," ")},c.a.createElement("div",{className:ea.a.boxFront,style:{backgroundImage:"url(".concat(Se.a,")")}},c.a.createElement("p",{className:ea.a.text},e.card.question),c.a.createElement("button",{className:ea.a.start,onClick:function(){l(!0)}},"Show answer")),c.a.createElement("div",{className:ea.a.boxBack,style:{backgroundImage:"url(".concat(Se.a,")")}},c.a.createElement("p",{className:ea.a.text},e.card.answer),c.a.createElement("button",{className:ea.a.start,onClick:function(){l(!1)}},"Show question")))))},ta=t(23),na=t.n(ta),ra=function(e){var a=Object(r.useState)(!1),t=Object(ue.a)(a,2),n=t[0],o=t[1],l=Object(r.useState)(!1),i=Object(ue.a)(l,2),s=i[0],m=i[1],p=Object(r.useState)(""),_=Object(ue.a)(p,2),E=_[0],f=_[1],b=Object(u.c)((function(e){return e.app.myUserID})),g=Object(u.c)((function(e){return e.cards.currentPackUserID})),v=Object(u.c)((function(e){return e.cards.currentPackID})),k=Object(u.b)(),h=Object(d.a)({initialValues:{cardsPack_id:v,question:"",answer:""},onSubmit:function(e){var a,t;k((a=e,t=v,function(e){O(a).then((function(a){e(xe(t))}))})),o(!1),h.resetForm()},validate:function(e){var a={};return e.question||(a.question="Required"),e.answer||(a.answer="Required"),a}}),N=function(e){f(e),m(!0)};return c.a.createElement("div",{className:na.a.tableCardBlock},n&&c.a.createElement(De,{title:"Add card",onClose:function(){o(!1)},duration:600,showCloseBtn:!0},c.a.createElement("div",{className:na.a.addPackBlock},c.a.createElement("form",null,c.a.createElement(B,Object.assign({placeholder:"Question",type:"text-area"},h.getFieldProps("question"))),h.errors.question&&c.a.createElement("div",{className:na.a.error},h.errors.question),c.a.createElement(B,Object.assign({placeholder:"Answer",type:"text"},h.getFieldProps("answer"))),h.errors.answer&&c.a.createElement("div",{className:na.a.error},h.errors.answer),c.a.createElement("div",{className:na.a.buttonBlock},c.a.createElement(F,{disabled:!1,type:"submit",value:"submit",action:h.handleSubmit}))))),s&&c.a.createElement(De,{title:"Delete card",onClose:function(){m(!1)},duration:600,showCloseBtn:!0},c.a.createElement("div",{className:na.a.deletePackBlock},c.a.createElement("div",{className:na.a.warnText},"This action cannon be undone."),c.a.createElement("button",{className:na.a.cancelButton,onClick:function(){return m(!1)}},"CANCEL"),c.a.createElement("button",{className:na.a.deleteButton,onClick:function(){k(function(e,a){return function(t){P(e).then((function(e){t(xe(a))}))}}(E,v)),m(!1)}},"DELETE"))),c.a.createElement("div",{className:na.a.cards},e.values.map((function(e){return c.a.createElement(aa,{key:e._id,card:e,openModalRemoveCard:N})}))),c.a.createElement("div",null,b===g&&c.a.createElement(F,{value:"Add new card",action:function(){return o(!0)}})))},ca=t(74),oa=t.n(ca),la=function(){var e=Object(u.c)((function(e){return e.cards})),a=e.cards,t=e.totalCardsCount,n=e.pageSize,o=e.currentPage,l=Object(i.g)().packId;console.log(l);var s=Object(u.b)();if(Object(r.useEffect)((function(){l&&s(xe(l,o))}),[l,o]),!l)return c.a.createElement(i.a,{to:"/packs"});return c.a.createElement("div",{className:oa.a.cardsWrapper},c.a.createElement(ra,{values:a}),c.a.createElement(Xe,{totalItemsCount:t,pageSize:n.toString(),currentPage:o,portionSize:n,onChangePage:function(e){s(function(e){return{type:"SET_CURRENT_CARD_PAGE",currentPage:e}}(e))}}))},ia={currentCard:null,rate:4},sa=function(e){return{type:"SET_CURRENT_CARD",card:e}},ua=t(55),da=t.n(ua),ma=t(75),pa=t(76),_a=t.n(pa),Ea=t(77),fa=t.n(Ea),ba=function(){var e=Object(r.useState)(!1),a=Object(ue.a)(e,2),t=(a[0],a[1],Object(r.useState)(!1)),n=Object(ue.a)(t,2),o=(n[0],n[1]),l=Object(r.useState)(""),s=Object(ue.a)(l,2),d=(s[0],s[1]),m=Object(u.b)(),p=Object(u.c)((function(e){return e.cards.cards})),_=(Object(u.c)((function(e){return e.cards.currentPackID})),Object(u.c)((function(e){return e.learningProcess.rate}))),E=Object(i.g)().packId;Object(r.useEffect)((function(){m(xe(E))}),[E]),Object(r.useEffect)((function(){var e=Math.floor(Math.random()*p.length),a=p[e];a&&m(sa(a))}),[p]);var f=Object(u.c)((function(e){return e.learningProcess.currentCard})),b=function(e,a){e&&m(function(e,a){return function(t){t(j("loading")),T(e,a).then((function(e){t(function(e){return{type:"SET_CURRENT_CARD_RATE",rate:e}}(e.data.updatedGrade.grade)),t(j("succeeded"))}))}}(e,a))};return c.a.createElement("div",{className:J.a.container},c.a.createElement("div",{className:da.a.learnWrapper},f&&c.a.createElement(aa,{card:f,openModalRemoveCard:function(e){d(e),o(!0)}}),c.a.createElement(ma.a,{initialRating:_,onChange:function(e){b(null===f||void 0===f?void 0:f._id,e)},emptySymbol:c.a.createElement("img",{src:_a.a,className:"icon",alt:"s",style:{width:"25px",height:"25px"}}),fullSymbol:c.a.createElement("img",{src:fa.a,className:"icon",alt:"s",style:{width:"25px",height:"25px"}})}),c.a.createElement("button",{className:da.a.nextBtn,onClick:function(){var e=Math.floor(Math.random()*p.length);m(sa(p[e]))}},"Next question")))};var ga=function(){var e=Object(u.b)(),a=Object(u.c)((function(e){return e.app.isInitialized}));return Object(r.useEffect)((function(){e((function(e){e(j("loading")),k().then((function(a){e(j("succeeded")),e(I(!0)),e(w(a.data._id))})).catch((function(e){})).finally((function(){e({type:"APP_SET_INITIALIZED",isInitialized:!0}),e(j("succeeded"))}))}))}),[]),a?c.a.createElement("div",{className:_e.a.App},c.a.createElement(ge,null),c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:["/Fridayapp","/"],render:function(){return c.a.createElement($e,null)}}),c.a.createElement(i.b,{path:"/packs",render:function(){return c.a.createElement(Je,null)}}),c.a.createElement(i.b,{path:"/main",render:function(){return c.a.createElement($e,null)}}),c.a.createElement(i.b,{path:"/learningProcess/:packId",render:function(){return c.a.createElement(ba,null)}}),c.a.createElement(i.b,{path:"/login",render:function(){return c.a.createElement($,null)}}),c.a.createElement(i.b,{path:"/signup",render:function(){return c.a.createElement(ne,null)}}),c.a.createElement(i.b,{path:"/recovery",render:function(){return c.a.createElement(me,null)}}),c.a.createElement(i.b,{path:"/initiate/:token",render:function(){return c.a.createElement(Ee,null)}}),c.a.createElement(i.b,{path:"/cards/:packId?",render:function(){return c.a.createElement(la,null)}}),c.a.createElement(i.b,{path:"/404",render:function(){return c.a.createElement("h1",null,"Error 404. Page not found.")}}),c.a.createElement(i.a,{from:"*",to:"/404"}))):c.a.createElement(q,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var va=t(32),ka=t(78),ha=Object(va.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"APP_SET_INITIALIZED":return Object(m.a)({},e,{isInitialized:a.isInitialized});case"SET_STATUS_APP":return Object(m.a)({},e,{status:a.status});case"SET_MY_USER_ID":return Object(m.a)({},e,{myUserID:a.id});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_IS_LOGGED":return Object(m.a)({},e,{isLoggedIn:a.value});case"SET_LOGIN_ERROR":return Object(m.a)({},e,{error:a.error});default:return e}},signup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET-IS-REGISTERED":return Object(m.a)({},e,{isRegistered:a.isRegistered});case"SET-REGISTRATION-ERROR":return Object(m.a)({},e,{registrationError:a.error});default:return e}},recovery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"RECOVERY_SET_SHIPMENT":return Object(m.a)({},e,{isShipment:a.shipment});case"RECOVERY_SHOW_ERROR":return Object(m.a)({},e,{error:a.error});default:return Object(m.a)({},e)}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CURRENT_PAGE":return Object(m.a)({},e,{currentPage:a.currentPage});case"SET_PACKS_TOTAL_COUNT":return Object(m.a)({},e,{totalPacksCount:a.count});case"SET_PACKS_NAME":return Object(m.a)({},e,{findPackName:a.packName});case"SET_PAGE_SIZE":return Object(m.a)({},e,{pageSize:a.pageSize});case"SET_MIN_MAX_VALUE":return Object(m.a)({},e,{min:a.value[0],max:a.value[1]});case"SET_UPDATE_PACKS":return Object(m.a)({},e,{update:a.value});case"SET-PACKS":return Object(m.a)({},e,{packs:Object(Oe.a)(a.packs)});case"REMOVE-PACK":return Object(m.a)({},e,{packs:e.packs.filter((function(e){return e._id!==a.packID}))});case"CREATE-PACK":return Object(m.a)({},e,{packs:[a.newPack].concat(Object(Oe.a)(e.packs))});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CARDS":return Object(m.a)({},e,{cards:Object(Oe.a)(a.cards)});case"SET_CURRENT_PACK_ID":return Object(m.a)({},e,{currentPackID:a.packID});case"SET_CURRENT_CARD_PAGE":return Object(m.a)({},e,{currentPage:a.currentPage});case"SET_PACKS_TOTAL_COUNT":return Object(m.a)({},e,{totalCardsCount:a.count});case"SET_CURRENT_PACK_USER_ID":return Object(m.a)({},e,{currentPackUserID:a.currentPackUserID});default:return e}},learningProcess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CURRENT_CARD":return Object(m.a)({},e,{currentCard:a.card});case"SET_CURRENT_CARD_RATE":return Object(m.a)({},e,{rate:a.rate});default:return e}}}),Na=Object(va.d)(ha,Object(va.a)(ka.a));window.store=Na,l.a.render(c.a.createElement(s.a,null,c.a.createElement(c.a.StrictMode,null,c.a.createElement(u.a,{store:Na},c.a.createElement(ga,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},12:function(e,a,t){e.exports={findFormWrapper:"FindForms_findFormWrapper__3C1ID",inputPacks:"FindForms_inputPacks__2eHBY",btns:"FindForms_btns__3992W",btn:"FindForms_btn__2PPEa",range:"FindForms_range__1VNrO",line:"FindForms_line__29aMx",sortList:"FindForms_sortList__1kFCJ",sortItem:"FindForms_sortItem__136ZS",arrowUp:"FindForms_arrowUp__N65i-",arrowDown:"FindForms_arrowDown__RoSSK"}},14:function(e,a,t){e.exports={paginatorWrapper:"Paginator_paginatorWrapper__2fEaE",pagesList:"Paginator_pagesList__1Yf6n",pagesItems:"Paginator_pagesItems__2UskD",selectedPage:"Paginator_selectedPage__29BUS",lastPage:"Paginator_lastPage__zPVOs",btn:"Paginator_btn__39G3_"}},20:function(e,a,t){e.exports={tablePacksBlock:"Table_tablePacksBlock__1dhxu",tablePackContainer:"Table_tablePackContainer__12UK9",packs:"Table_packs__rz98o",addPackBlock:"Table_addPackBlock__3Xow-",error:"Table_error__2vwi5",buttonBlock:"Table_buttonBlock__3lMBP",deletePackBlock:"Table_deletePackBlock__3fq5w",warnText:"Table_warnText__3Oq9w",cancelButton:"Table_cancelButton__2kkxM",deleteButton:"Table_deleteButton__2MrCC",scrollUp:"Table_scrollUp__2X4vx",fa_fa_chevron_up:"Table_fa_fa_chevron_up__3ODN9",addBtn:"Table_addBtn__3aEiL"}},21:function(e,a,t){e.exports={container:"common_container__2_8eU",formWrapper:"common_formWrapper__2Y5LB"}},22:function(e,a,t){e.exports={text:"Card_text__81SH-",start:"Card_start__2wIqA",deleteButton:"Card_deleteButton__1jvRD",link:"Card_link__2VLY-",box:"Card_box__1hx7b",boxInner:"Card_boxInner__2NcHJ",active:"Card_active__eCUHy",boxFront:"Card_boxFront__3Z9w3",boxBack:"Card_boxBack__15m2A"}},23:function(e,a,t){e.exports={cards:"TableCards_cards__8nx4-",deletePackBlock:"TableCards_deletePackBlock__jb8CL",warnText:"TableCards_warnText__37QW1",cancelButton:"TableCards_cancelButton__22fKA",deleteButton:"TableCards_deleteButton__3Y1DG"}},26:function(e,a,t){e.exports={packBlock:"Pack_packBlock__23cxJ",packTitle:"Pack_packTitle__23hoA",author:"Pack_author__2fm1U",start:"Pack_start__1Nqh4",deleteButton:"Pack_deleteButton__2Ilmc",count:"Pack_count__2rBnP",link:"Pack_link__1tUrX"}},28:function(e,a,t){e.exports={modal:"Modal_modal__2YKy3","disable-click":"Modal_disable-click__Z46AH",modal_bg:"Modal_modal_bg__17LYG",modal_inner:"Modal_modal_inner__37Rgf",modal_head:"Modal_modal_head__2_cdA",btn:"Modal_btn__1ctwk",modal_body:"Modal_modal_body__FSi-J",modal_foot:"Modal_modal_foot__2NOjZ"}},29:function(e,a,t){e.exports={errorLogin:"Login_errorLogin__2xNUa",loginFormWrapper:"Login_loginFormWrapper__1uesW",loginTitle:"Login_loginTitle__3z-Bz",forgot:"Login_forgot__2gXNd",btn:"Login_btn__1nnd-"}},33:function(e,a,t){e.exports={registerTitle:"SignUp_registerTitle__1j7sN",error:"SignUp_error__1MTeK",linkToLogin:"SignUp_linkToLogin__3V_xG",registrationError:"SignUp_registrationError__3WYgz"}},34:function(e,a,t){e.exports={settings:"Packs_settings__3GGZD",content:"Packs_content__2NmAa",paginator:"Packs_paginator__1FzAV"}},36:function(e,a,t){e.exports=t.p+"static/media/backgroundPack.2d5de1ce.jpg"},44:function(e,a,t){e.exports={App:"App_App__3Uewk"}},45:function(e,a,t){e.exports={btn:"Button_btn__1nhA4",error:"Button_error__3zTj0"}},46:function(e,a,t){e.exports={input:"InputCheckbox_input__2BraD",checkbox:"InputCheckbox_checkbox__3Fr75",active:"InputCheckbox_active__2rIEX"}},49:function(e,a,t){e.exports={inputText:"InputText_inputText__1ZhLQ",error:"InputText_error__f2mwi"}},50:function(e,a,t){e.exports={wrapper:"Preloader_wrapper__1ACTc",overlay:"Preloader_overlay__2uABP"}},55:function(e,a,t){e.exports={learnWrapper:"LearningProcess_learnWrapper__3maNg",nextBtn:"LearningProcess_nextBtn__1zG9N"}},70:function(e,a,t){e.exports=t.p+"static/media/loader.c71eb0a3.gif"},73:function(e,a,t){},74:function(e,a,t){e.exports={cardsWrapper:"Cards_cardsWrapper__1n0-M"}},76:function(e,a,t){e.exports=t.p+"static/media/empty.b0fabf78.png"},77:function(e,a,t){e.exports=t.p+"static/media/full.c73cda1e.png"},8:function(e,a,t){e.exports={header:"Header_header__MvSEZ",logo:"Header_logo__1sN1y",navList:"Header_navList__SRaEo",navLink:"Header_navLink__2CSW2",navLinkActive:"Header_navLinkActive__eXWXZ",linkItem:"Header_linkItem__1zaZK",login:"Header_login__2Q-g_"}},80:function(e,a,t){e.exports=t(109)},85:function(e,a,t){}},[[80,1,2]]]);
//# sourceMappingURL=main.34359065.chunk.js.map